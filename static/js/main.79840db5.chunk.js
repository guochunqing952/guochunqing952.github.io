(this.webpackJsonpsearch=this.webpackJsonpsearch||[]).push([[0],{45:function(e,t,a){e.exports=a(76)},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),i=a(12),o=a(14),u=a(15),s=a(17),m=a(16),p=(a(50),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("header",{className:"header"},this.props.header),r.a.createElement("div",{className:"kinds"},this.props.category),r.a.createElement("div",{className:"content"},this.props.children))}}]),a}(n.Component)),h=(a(51),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"topHeader"},r.a.createElement("span",null,"\u30a2\u30cb\u30e1\u306e\u4e16\u754c\u306b\u3088\u3046\u3053\u305d\uff01"),r.a.createElement("div",{className:"btn"},r.a.createElement("button",null,r.a.createElement("a",{href:"#/login"},"Login")),r.a.createElement("button",null,r.a.createElement("a",{href:"#/login"},"Sign Up"))),r.a.createElement("div",{className:"picture"}))}}]),a}(n.Component)),E=(a(52),a(21)),d=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"kindWrapper"},r.a.createElement(E.a,{to:"/"},"\u4e3b\u9875"),r.a.createElement(E.a,{to:"/anime"},"anime"))}}]),a}(n.Component),f=a(43),v=a(11),b=a(19),g=(a(57),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target.name,a=e.target.value;"genre"===t&&(a=+a),n.setState(Object(b.a)({},t,a))},n.handleSearch=function(){n.props.onSearch&&n.props.onSearch(n.state)},n.state=Object(v.a)({q:"fate",genre:1},n.props.defaultValue),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"searchBar"},"\u7c7b\u578b\uff1a",r.a.createElement("select",{value:this.state.genre,onChange:this.handleChange,name:"genre"},r.a.createElement("option",{value:1},"Action"),r.a.createElement("option",{value:2},"Adventure"),r.a.createElement("option",{value:3},"Cars"),r.a.createElement("option",{value:11},"Game"),r.a.createElement("option",{value:30},"Sports")),"\u5173\u952e\u5b57\uff1a",r.a.createElement("input",{type:"text",value:this.state.q,onChange:this.handleChange,name:"q"}),r.a.createElement("button",{onClick:this.handleSearch},"\u67e5\u8be2"))}}]),a}(n.Component));a(58);function j(e){var t=e.status.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:e.image_url,alt:"\u6f2b\u753b\u56fe\u7247"}))),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.score),r.a.createElement("td",null,e.episodes),r.a.createElement("td",null,e.members),r.a.createElement("td",null,e.type))}));return r.a.createElement("table",{className:"tab"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Img"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Score"),r.a.createElement("th",null,"Episodes"),r.a.createElement("th",null,"Members"),r.a.createElement("th",null,"Type"))),r.a.createElement("tbody",null,t))}var O=a(13),y=a.n(O),k=a(39);function C(){return S.apply(this,arguments)}function S(){return(S=Object(k.a)(y.a.mark((function e(){var t,a,n,r,c=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"fate",a=c.length>1&&void 0!==c[1]?c[1]:1,n=c.length>2&&void 0!==c[2]?c[2]:1,r=c.length>3&&void 0!==c[3]?c[3]:7,e.next=6,fetch("https://api.jikan.moe/v3/search/anime?q=".concat(t,"&genre=").concat(a,"&page=").concat(n,"&limit=").concat(r)).then((function(e){return e.json()})).then((function(e){return e.results}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=a(33),w=a.n(N),q=(a(72),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=function(e){var t=e.target.name;"-"===e.target.value?n.setState(Object(b.a)({},t,n.state[t]-1>=1?n.state[t]-1:1),(function(){n.props.onSearch&&n.props.onSearch(n.state)})):n.setState(Object(b.a)({},t,n.state[t]+1),(function(){n.props.onSearch&&n.props.onSearch(n.state)}))},n.state=Object(v.a)({page:1,limit:7},n.props.defaultValue),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"pagerLimit"},r.a.createElement("button",{onClick:this.handleClick,name:"page",value:"-"},"-"),r.a.createElement("span",null,"page: ",this.state.page),r.a.createElement("button",{onClick:this.handleClick,name:"page",value:"+"},"+"),r.a.createElement("button",{onClick:this.handleClick,name:"limit",value:"-"},"-"),r.a.createElement("span",null,"limit: ",this.state.limit),r.a.createElement("button",{onClick:this.handleClick,name:"limit",value:"+"},"+"))}}]),a}(n.Component));a(73);function x(e,t){var a=w.a.stringify(e);t.push("?"+a)}function A(e){var t=function(e){var t=w.a.parse(e);return(t=Object(v.a)({},{q:"fate",genre:1,page:1,limit:7},{},t)).genre=+t.genre,t.page=+t.page,t.limit=+t.limit,t}(e.location.search),a=function(e){var t=Object(n.useState)([]),a=Object(f.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){C(e.q,e.genre,e.page,e.limit).then((function(e){c(e)}))}),[e.q,e.genre,e.page,e.limit]),r}(t);return 0===a.length?r.a.createElement("div",null,"\u6ca1\u6709\u641c\u7d22\u5230\u76f8\u5173\u6570\u636e"):r.a.createElement("div",{className:"animeWrapper"},r.a.createElement(g,{defaultValue:{q:t.q,genre:t.genre},onSearch:function(a){x(Object(v.a)({},t,{q:a.q,genre:a.genre,page:1}),e.history)}}),r.a.createElement(j,{status:a}),r.a.createElement("div",null,r.a.createElement(q,{defaultValue:{page:t.page,limit:t.limit},onSearch:function(a){x(Object(v.a)({},t,{page:a.page,limit:a.limit}),e.history)}})))}function T(){return r.a.createElement(p,{header:r.a.createElement(h,null),category:r.a.createElement(d,null)},r.a.createElement(i.a,{path:"/anime",exact:!0,component:A}))}a(74);function L(){return r.a.createElement("div",{className:"welcome"},r.a.createElement("div",{className:"loginTitle"},"\u6b22\u8fce\u6765\u5230\u5927\u5b9d\u306e\u52a8\u6f2b\u641c\u7d22"),r.a.createElement("div",null,r.a.createElement("span",null,"Username"),r.a.createElement("input",null)),r.a.createElement("div",null,r.a.createElement("span",null,"Password"),r.a.createElement("input",null)),r.a.createElement("a",{href:"#/"},r.a.createElement("button",{className:"btn1"},"Login")),r.a.createElement("br",null),r.a.createElement("a",{href:"#/"},r.a.createElement("button",{className:"btn2"},"Sign Up")))}var I=a(24),M=a(10),V="CHANGE";var H={q:"fate",genre:1,page:1,limit:7},R="SETANIME",U="FETCHANIMEDATA";var W={status:[]};var B=Object(M.combineReducers)({searchCondition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(v.a)({},e,{},t.payLoad);default:return e}},searchResult:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(v.a)({},e,{status:t.payLoad});default:return e}}}),D=a(22),G=a(8),J=Object(G.b)(),_=Object(M.combineReducers)({anime:B,router:Object(D.b)(J)}),F=a(41),P=a.n(F),z=a(44),K=a(20),Q=y.a.mark(Y),X=y.a.mark(Z);function Y(){var e,t;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("123"),a.next=3,Object(K.d)((function(e){return e.anime.searchCondition}));case 3:return e=a.sent,console.log(e),a.next=7,Object(K.b)(C,e.q,e.genre,e.page,e.limit);case 7:return t=a.sent,a.next=10,Object(K.c)({type:R,payLoad:t});case 10:case"end":return a.stop()}}),Q)}function Z(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.e)(U,Y);case 2:console.log("\u6b63\u5728\u76d1\u542c\u5f97\u5230\u6570\u636e");case 3:case"end":return e.stop()}}),X)}var $=y.a.mark(ee);function ee(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.a)([Z()]);case 2:case"end":return e.stop()}}),$)}var te=a(42),ae=a(37),ne=Object(ae.a)(J),re=Object(z.a)(),ce=Object(M.createStore)(_,Object(te.composeWithDevTools)(Object(M.applyMiddleware)(ne,re,P.a)));console.log(ce.getState()),re.run(ee);var le=ce;function ie(){return r.a.createElement(I.a,{store:le},r.a.createElement(D.a,{history:J},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/login",component:L}),r.a.createElement(i.a,{path:"/",component:T}))))}l.a.render(r.a.createElement(ie,null),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.79840db5.chunk.js.map